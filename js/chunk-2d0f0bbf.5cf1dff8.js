(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0bbf"],{"9e41":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"main-title"},[t._v("結帳")]),s("div",{staticClass:"main-wrapper"},[s("div",{staticClass:"main-left"},[s("Step",{attrs:{step:t.step}}),s("FormThree",{attrs:{user:t.user}}),s("LeftControl",{attrs:{step:t.step,completed:t.completed},on:{"save-storage":t.saveStorage,"submit-cart":t.submitCart}})],1),s("div",{staticClass:"main-right"},[s("Cart",{attrs:{user:t.user},on:{"cart-item-minus":t.cartItemMinus,"cart-item-plus":t.cartItemPlus}}),s("RightControl",{attrs:{step:t.step,completed:t.completed},on:{"next-step":t.nextStep,"save-storage":t.saveStorage}})],1)]),s("SubmitModal",{attrs:{user:t.user},on:{"end-shop":t.endShop}})],1)},r=[],o=s("5530"),i=(s("d81d"),s("e9c4"),s("d374")),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form"},[s("form",{attrs:{action:""}},[s("div",{staticClass:"form-title"},[t._v("付款資訊")]),s("div",{staticClass:"form-cardName"},[s("label",{attrs:{for:"cardName"}},[t._v("持卡人姓名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.cardName,expression:"user.cardName"}],attrs:{type:"text",name:"cardName",id:"cardName",placeholder:"John Doe",required:""},domProps:{value:t.user.cardName},on:{input:function(e){e.target.composing||t.$set(t.user,"cardName",e.target.value)}}})]),s("div",{staticClass:"form-cardNum"},[s("label",{attrs:{for:"cardNum"}},[t._v("卡號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.cardNum,expression:"user.cardNum"}],attrs:{type:"text",name:"cardNum",id:"cardNum",placeholder:"1111 2222 3333 4444",required:""},domProps:{value:t.user.cardNum},on:{input:function(e){e.target.composing||t.$set(t.user,"cardNum",e.target.value)}}})]),s("div",{staticClass:"form-validate"},[s("div",{staticClass:"form-validate-date"},[s("label",{attrs:{for:"date"}},[t._v("有效期限")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.date,expression:"user.date"}],attrs:{type:"text",name:"date",id:"date",placeholder:"MM/YY",required:""},domProps:{value:t.user.date},on:{input:function(e){e.target.composing||t.$set(t.user,"date",e.target.value)}}})]),s("div",{staticClass:"form-validate-cvc"},[s("label",{attrs:{for:"cvc"}},[t._v("CVC / CCV")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.cvc,expression:"user.cvc"}],attrs:{type:"number",name:"cvc",id:"cvc",placeholder:"123",required:""},domProps:{value:t.user.cvc},on:{input:function(e){e.target.composing||t.$set(t.user,"cvc",e.target.value)}}})])])])])},d=[],l={name:"FormThree",props:{user:{type:Object,required:!0}}},u=l,n=s("2877"),m=Object(n["a"])(u,c,d,!1,null,null,null),v=m.exports,p=s("b3b1"),h=s("1e4b"),b=s("4322"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"submit-cart","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"modal-body-user"},[s("div",{staticClass:"modal-body-user-title"},[t._v("收件人資訊")]),s("div",{staticClass:"modal-body-user-name"},[t._v("姓名: "+t._s(t.user.name)+" "+t._s(t.user.title))]),s("div",{staticClass:"modal-body-user-tel"},[t._v("電話: "+t._s(t.user.tel))]),s("div",{staticClass:"modal-body-user-email"},[t._v("電子郵件: "+t._s(t.user.email))]),s("div",{staticClass:"modal-body-user-address"},[t._v("收件地址: "+t._s(t.user.county)+" "+t._s(t.user.address))])]),s("div",{staticClass:"modal-body-product"},[s("div",{staticClass:"modal-body-product-title"},[t._v("商品明細")]),t._l(t.user.cartItems,(function(e){return s("div",{key:e.id,staticClass:"modal-body-product-jean"},[t._v(t._s(e.name)+": "+t._s(e.count)+"件")])})),s("div",{staticClass:"modal-body-product-ship"},[t._v("運送方式: "+t._s(t.user.delivery)+"運送")]),s("div",{staticClass:"modal-body-product-shipPrice"},[t._v("運費: "+t._s(t.user.shipPrice))]),s("div",{staticClass:"modal-body-product-totalCost"},[t._v("總金額: "),s("span",{staticClass:"modal-body-product-totalCost-num"},[t._v(t._s(t.user.totalCost))])])],2)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"modal-close btn btn-secondary",attrs:{"data-bs-dismiss":"modal","aria-label":"Close"}},[t._v("回上一步")]),s("router-link",{attrs:{to:"/1"}},[s("button",{staticClass:"btn btn-clear",attrs:{"data-bs-dismiss":"modal"},on:{click:t.endShop}},[t._v("送出")])])],1)])])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-header-title"},[t._v("結帳明細")])])}],_={name:"SubmitModal",props:{user:{type:Object,required:!0}},methods:{endShop:function(){this.$emit("end-shop")}}},g=_,y=Object(n["a"])(g,C,f,!1,null,null,null),N=y.exports,S="ac-shop",x={name:"Shop",components:{Step:i["a"],FormThree:v,Cart:p["a"],LeftControl:h["a"],RightControl:b["a"],SubmitModal:N},data:function(){return{step:3,completed:!1,user:{}}},created:function(){this.user=JSON.parse(localStorage.getItem(S))},watch:{user:{handler:function(){var t=0;if(this.user.cartItems.map((function(e){t+=e.sum})),this.user.totalCost=t+this.user.shipPrice,this.user.cardName&&this.user.cardNum&&this.user.date&&this.user.cvc)return this.completed=!0},deep:!0}},methods:{nextStep:function(){this.step+=1},cartItemMinus:function(t){this.user.cartItems=this.user.cartItems.map((function(e){return e.id===t?Object(o["a"])(Object(o["a"])({},e),{},{count:e.count-=1,sum:e.count*e.price}):e}))},cartItemPlus:function(t){this.user.cartItems=this.user.cartItems.map((function(e){return e.id===t?Object(o["a"])(Object(o["a"])({},e),{},{count:e.count+=1,sum:e.count*e.price}):e}))},saveStorage:function(){var t=JSON.stringify(this.user);console.log("saveStorage:",t),localStorage.setItem(S,JSON.stringify(this.user))},submitCart:function(){console.log(this.user)},endShop:function(){localStorage.clear()}}},w=x,I=Object(n["a"])(w,a,r,!1,null,null,null);e["default"]=I.exports}}]);
//# sourceMappingURL=chunk-2d0f0bbf.5cf1dff8.js.map